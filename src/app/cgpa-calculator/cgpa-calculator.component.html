<div class="cgpa-calculator-container">
  <h2>CGPA Calculator</h2>
  <hr />

  <form [formGroup]="cgpaForm">
    <div class="additional-inputs">
      <label>
        Current CGPA:
        <input
          type="number"
          step="0.01"
          min="0"
          max="4"
          formControlName="currentCgpa"
        />
      </label>
      <label>
        Credits Already Completed:
        <input type="number" min="0" formControlName="completedCredits" />
      </label>
    </div>

    <div class="header-row">
      <span><strong>Course Grade</strong></span>
      <span><strong>Credit Hours</strong></span>
      <span><strong>Clear</strong></span>
    </div>

    <div
      class="row"
      *ngFor="let i of subjectIndices"
      [formGroup]="getSubjectGroup(i)"
    >
      <select formControlName="gradePoint">
        <option value="" disabled>Select Grade</option>
        <option *ngFor="let g of gradeOptions" [value]="g.value">
          {{ g.label }}
        </option>
      </select>

      <select formControlName="creditHours">
        <option value="" disabled>Select Hours</option>
        <option *ngFor="let ch of creditOptions" [value]="ch">{{ ch }}</option>
      </select>

      <button type="button" class="clear-btn" (click)="clearRow(i)">
        Clear
      </button>
    </div>
   

    <div class="buttons">
      <button type="button" class="calc" (click)="calculateCGPA()">
        Calculate
      </button>
      <button type="button" class="clear-all" (click)="resetForm()">
        Clear All
      </button>
    </div>
  </form>

  <div *ngIf="cgpa !== null" class="result">
    <h3>Your CGPA is: {{ cgpa.toFixed(2) }}</h3>
  </div>
</div>
