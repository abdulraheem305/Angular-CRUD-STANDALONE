<div class="advanced-tax-container">
  <h2>Pakistan Tax Calculator (2026)</h2>

  <form [formGroup]="taxForm" (ngSubmit)="calculateTax()">
    <label for="income">Enter Salary (PKR):</label>
    <input
      type="number"
      formControlName="income"
      placeholder="Enter the amount"
      [class.invalid]="
        taxForm.get('income')?.invalid && taxForm.get('income')?.touched
      "
    />
    @if (taxForm.get('income')?.invalid && taxForm.get('income')?.touched) {
    <div class="error">Salary is required and must be greater than 0.</div>
    }

    <label for="mode">Salary Mode:</label>
    <select formControlName="mode">
      <option value="yearly">Yearly</option>
      <option value="monthly">Monthly</option>
    </select>

    <button type="submit">Calculate</button>
  </form>

  @if (taxAmount !== null) { @if (mode === 'yearly') {
  <h3>Yearly Tax Payable: PKR {{ taxAmount | number : "1.0-0" }}</h3>
  } @else if (mode === 'monthly') {
  <h3>Monthly Tax Payable: PKR {{ monthlyTax | number : "1.0-0" }}</h3>
  } }
</div>
