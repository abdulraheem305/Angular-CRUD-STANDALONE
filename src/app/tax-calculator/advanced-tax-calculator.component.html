<div class="advanced-tax-container">
  <h2>Pakistan Tax Calculator (2026)</h2>

  <form [formGroup]="taxForm" (ngSubmit)="calculateTax()">
    <label for="income">Enter Salary (PKR):</label>
    <input
      type="number"
      formControlName="income"
      placeholder="Enter the amount"
      [class.invalid]="taxForm.get('income')?.invalid && taxForm.get('income')?.touched"
    />
    <div class="error" *ngIf="taxForm.get('income')?.invalid && taxForm.get('income')?.touched">
      Salary is required and must be greater than 0.
    </div>

    <label for="mode">Salary Mode:</label>
    <select formControlName="mode">
      <option value="yearly">Yearly</option>
      <option value="monthly">Monthly</option>
    </select>

    <button type="submit">Calculate</button>
  </form>

  <div *ngIf="taxAmount !== null">
    <h3 *ngIf="mode === 'yearly'">Yearly Tax Payable: PKR {{ taxAmount | number : '1.0-0' }}</h3>
    <h3 *ngIf="mode === 'monthly'">Monthly Tax Payable: PKR {{ monthlyTax | number : '1.0-0' }}</h3>
  </div>
</div>
